[build-system]
requires = [
    "setuptools>=45",
    "setuptools_scm[toml]>=6.4",
    "wheel",
    "ninja; sys_platform != 'win32'",
    "cmake>=3.14",
]
build-backend = "setuptools.build_meta"

[tool.setuptools_scm]

[tool.cibuildwheel]
build = "cp3*"
arch = "auto64"
test-skip = "*-macosx_arm64"
test-extras = ["tests"]
test-command = "cd {project}/test/python && pytest ."
environment = { DEPLOY = "ON" }
build-frontend = "build"
build-verbosity = 3

[tool.cibuildwheel.linux]

[tool.cibuildwheel.macos]
environment = { MACOSX_DEPLOYMENT_TARGET = "10.15", DEPLOY = "ON" }

[tool.cibuildwheel.windows]

# the below is a first try of incorporating PEP 621 into QCEC, At the moment PEP 621 is still experimental, so this is not yet incorporated.
#[project]
#name = "mqt.qcec"
#authors = [{name = "Lukas Burgholzer", email = "lukas.burgholzer@jku.at"}]
#description = "A tool for Quantum Circuit Equivalence Checking"
#readme = "README.md"
#keywords = ["MQT", "quantum", "verification"]
#license = { file = "LICENSE.md" }
#
#classifiers = [
#    'Development Status :: 5 - Production/Stable',
#    'Programming Language :: Python :: 3.7',
#    'Programming Language :: Python :: 3.8',
#    'Programming Language :: Python :: 3.9',
#    'Programming Language :: Python :: 3.10',
#    "Programming Language :: C++",
#    "License :: OSI Approved :: MIT License",
#    "Operating System :: Microsoft :: Windows",
#    "Operating System :: MacOS",
#    "Operating System :: POSIX :: Linux",
#    "Intended Audience :: Science/Research",
#    "Natural Language :: English",
#    "Topic :: Scientific/Engineering :: Electronic Design Automation (EDA)",
#]
#
#requires-python = ">=3.7"
#dynamic = ["version"]
#
#[project.optional-dependencies]
#tests = [
#    "pytest~=7.1.1",
#    "qiskit-terra~=0.19.2"
#]
#docs = [
#    "sphinx==4.4.0",
#    "sphinx-rtd-theme==1.0.0",
#    "sphinxcontrib-bibtex==2.4.1",
#    "sphinx-copybutton==0.4.0"
#]
#
#[project.urls]
#homepage = "https://github.com/cda-tum/qcec/"
#tracker = "https://github.com/cda-tum/qcec/issues"
#research = "https://www.cda.cit.tum.de/research/quantum_verification/"
#documentation = "https://qcec.readthedocs.io"
#
#[tool.setuptools]
#zip-safe = false
#packages = { find = { include = ["mqt.*"], namespaces = true } }
